<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
{% if site.gravatar != false %}<script src="//crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js"></script>{% endif %}
<script defer src="{{ root_url }}/javascripts/octopress.js"></script>

{% if site.google_analytics_tracking_id %}
<script>
  var _gaq=[['_setAccount','{{ site.google_analytics_tracking_id }}'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
{% endif %}
{% if site.github_user %}
<script>
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '{{ root_url}}/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: '{{site.github_user}}',
      count: {{site.github_repo_count}},
      skip_forks: {{site.github_skip_forks}},
      target: '#gh_repos'
    });
  });
</script>
<script src="{{ root_url }}/javascripts/github.js"></script>
{% endif %}
{% if site.delicious_user %}
<script src="//feeds.delicious.com/v2/json/{{ site.delicious_user }}?count={{ site.delicious_count }}&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
{% endif %}
{% if site.pinboard_user %}
<script>
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "{{ site.pinboard_user }}"; //id target for pinboard list
  var pinboard_count = {{ site.pinboard_count }}; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.async = true;
    pinboardInit.src = '{{ root_url }}/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>
{% endif %}
{% comment %} Load script if disqus comments are enabled and `page.comments` is either empty (index) or set to true {% endcomment %}
{% if site.disqus_short_name and page.comments != false %}
<script>
  var disqus_shortname = '{{ site.disqus_short_name }}';
  {% if page.comments == true %}
    {% comment %} `page.comments` can be only be set to true on pages/posts, so we embed the comments here. {% endcomment %}
    // var disqus_developer = 1;
    var disqus_identifier = '{{ site.url }}{{ page.url }}';
    var disqus_url = '{{ site.url }}{{ page.url }}';
    var disqus_script = 'embed.js';
  {% else %}
    {% comment %} As `page.comments` is empty, we must be on the index page. {% endcomment %}
    var disqus_script = 'count.js';
  {% endif %}
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>
{% endif %}